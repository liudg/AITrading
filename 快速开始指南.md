# ğŸš€ å¿«é€Ÿå¼€å§‹æŒ‡å—

å®Œæ•´çš„å®‰è£…å’Œè¿è¡ŒæŒ‡å—ã€‚

## å‰ç½®è¦æ±‚

- **Node.js** >= 18.0.0
- **npm** >= 9.0.0 æˆ– **yarn** >= 1.22.0

## å¿«é€Ÿå¼€å§‹

### 1. å®‰è£…ä¾èµ–

```bash
# å®‰è£…åç«¯ä¾èµ–
cd server
npm install

# å®‰è£…å‰ç«¯ä¾èµ–
cd ../client
npm install
```

### 2. é…ç½®ç¯å¢ƒå˜é‡

åœ¨ `server/` ç›®å½•ä¸‹åˆ›å»º `.env` æ–‡ä»¶ï¼š

```bash
cd server
cp .env.example .env
```

ç¼–è¾‘ `.env` æ–‡ä»¶ï¼Œå¡«å…¥ä½ çš„ API Keysï¼š

```env
# Application
PORT=3000
NODE_ENV=development

# Database
DATABASE_URL="file:./dev.db"

# DeepSeek API
DEEPSEEK_API_KEY=your_deepseek_api_key_here
DEEPSEEK_API_URL=https://api.deepseek.com/v1/chat/completions

# Qwen API (DashScope)
QWEN_API_KEY=your_qwen_api_key_here
QWEN_API_URL=https://dashscope.aliyuncs.com/api/v1/services/aigc/text-generation/generation

# Claude API
CLAUDE_API_KEY=your_claude_api_key_here
CLAUDE_API_URL=https://api.anthropic.com

# OpenAI API
OPENAI_API_KEY=your_openai_api_key_here
OPENAI_API_URL=https://api.openai.com

# Trading Configuration
INITIAL_CAPITAL=100000
MAX_POSITION_SIZE=0.2
MAX_TOTAL_POSITION=0.8
REFLECTION_DAYS=5

# Cron Jobs
PREMARKET_ANALYSIS_CRON=0 9 * * 1-5
POSTMARKET_REFLECTION_CRON=30 16 * * 1-5
DAILY_REPORT_CRON=0 17 * * 1-5
```

**è·å– API Keys:**
- **DeepSeek**: è®¿é—® [https://platform.deepseek.com](https://platform.deepseek.com)
- **Qwen**: è®¿é—® [https://dashscope.aliyun.com](https://dashscope.aliyun.com)
- **Claude**: è®¿é—® [https://console.anthropic.com](https://console.anthropic.com)
- **OpenAI**: è®¿é—® [https://platform.openai.com](https://platform.openai.com)

**æ³¨æ„**: å¦‚æœæ²¡æœ‰ API Keysï¼Œç³»ç»Ÿä¼šä½¿ç”¨ Mock æ•°æ®è¿è¡Œï¼ˆä»…ç”¨äºæ¼”ç¤ºï¼‰ã€‚

### 3. åˆå§‹åŒ–æ•°æ®åº“

```bash
cd server

# ç”Ÿæˆ Prisma Client
npm run prisma:generate

# è¿è¡Œæ•°æ®åº“è¿ç§»
npm run prisma:migrate

# å¡«å……æµ‹è¯•æ•°æ®ï¼ˆå¯é€‰ï¼‰
npm run prisma:seed
```

### 4. å¯åŠ¨åç«¯æœåŠ¡å™¨

```bash
cd server
npm run dev
```

ä½ åº”è¯¥çœ‹åˆ°ç±»ä¼¼è¿™æ ·çš„è¾“å‡ºï¼š

```
ğŸš€ Server is running on port 3000
   - API: http://localhost:3000/api
   - Health: http://localhost:3000/health
âœ… WebSocket server initialized
[Database] âœ… Found 4 existing models
âœ… Trading cron jobs started
   - Premarket analysis: 0 9 * * 1-5
   - Postmarket reflection: 30 16 * * 1-5
   - Daily report: 0 17 * * 1-5
```

### 5. å¯åŠ¨å‰ç«¯ï¼ˆæ–°ç»ˆç«¯ï¼‰

```bash
cd client
npm run dev
```

å‰ç«¯å°†åœ¨ http://localhost:5173 å¯åŠ¨ã€‚

## éªŒè¯å®‰è£…

1. **è®¿é—®å‰ç«¯**: æ‰“å¼€æµè§ˆå™¨ï¼Œè®¿é—® http://localhost:5173
2. **æ£€æŸ¥ WebSocket è¿æ¥**: å³ä¸Šè§’åº”æ˜¾ç¤ºç»¿è‰²çš„ "CONNECTED" çŠ¶æ€
3. **æŸ¥çœ‹æ’è¡Œæ¦œ**: ä¸»é¡µåº”æ˜¾ç¤º 4 ä¸ª AI æ¨¡å‹å¡ç‰‡ï¼ˆDeepSeek, Qwen, Claude, GPT-4ï¼‰
4. **æŸ¥çœ‹æˆ˜æŠ¥**: ç‚¹å‡»å¯¼èˆªæ çš„"æˆ˜æŠ¥"æŸ¥çœ‹æ¯æ—¥æˆ˜æŠ¥åˆ—è¡¨

## ç”Ÿæˆæµ‹è¯•æ•°æ®

å¦‚æœéœ€è¦æ¼”ç¤ºæˆ˜æŠ¥åŠŸèƒ½ï¼Œå¯ä»¥ç”Ÿæˆæµ‹è¯•æ•°æ®ï¼š

```bash
cd server

# ç”Ÿæˆæµ‹è¯•æˆ˜æŠ¥ï¼ˆå¯å¤šæ¬¡è¿è¡Œç”Ÿæˆå¤šæ—¥æ•°æ®ï¼‰
npm run test:report

# éªŒè¯æ•°æ®å®Œæ•´æ€§
npm run verify

# è¡¥å……å†å²å¿«ç…§æ•°æ®
npm run seed:history
```

## åŠŸèƒ½æµ‹è¯•

### 1. æŸ¥çœ‹æ’è¡Œæ¦œ

1. è®¿é—®é¦–é¡µ http://localhost:5173
2. æŸ¥çœ‹ 4 ä¸ª AI æ¨¡å‹çš„è¡¨ç°å¯¹æ¯”
3. æŸ¥çœ‹æ”¶ç›Šç‡æ’åã€æ€»èµ„äº§ã€æŒä»“æ•°ç­‰ä¿¡æ¯

### 2. æŸ¥çœ‹æˆ˜æŠ¥

1. ç‚¹å‡»é¡¶éƒ¨å¯¼èˆªçš„ **"æˆ˜æŠ¥"**
2. æŸ¥çœ‹æ¯æ—¥æˆ˜æŠ¥åˆ—è¡¨ï¼ˆæŒ‰ Day ç¼–å·å€’åºï¼‰
3. ç‚¹å‡»"æŸ¥çœ‹è¯¦æƒ…"è¿›å…¥æˆ˜æŠ¥è¯¦æƒ…é¡µ
4. æˆ˜æŠ¥è¯¦æƒ…åŒ…å«ï¼š
   - é¡¶éƒ¨å¿«é€Ÿæ´å¯Ÿå¡ç‰‡
   - æ¨¡å‹è¡¨ç°å¯¹æ¯”è¡¨ï¼ˆå«æ’åå˜åŒ–ï¼‰
   - ä»Šæ—¥äº¤æ˜“è®°å½•ï¼ˆæ‰€æœ‰äº¤æ˜“ + AI å†³ç­–ç†ç”±ï¼‰
   - æŒä»“åˆ†å¸ƒï¼ˆè‚¡ç¥¨ç»´åº¦ç»Ÿè®¡ï¼‰

### 3. æµ‹è¯• AI é€‰è‚¡

1. ç‚¹å‡»é¡¶éƒ¨çš„ **"AI é€‰è‚¡"** æŒ‰é’®
2. è¾“å…¥ç­›é€‰æ¡ä»¶ï¼Œä¾‹å¦‚ï¼š"å¯»æ‰¾æœ€è¿‘ä¸€å‘¨æ–°é—»çƒ­åº¦é«˜çš„ç§‘æŠ€è‚¡"
3. ç‚¹å‡» **"å¼€å§‹åˆ†æ"**
4. ç­‰å¾… AI æ¨èï¼ˆä½¿ç”¨çœŸå® API æ—¶éœ€è¦ 10-30 ç§’ï¼‰
5. é€‰æ‹©è‚¡ç¥¨å¹¶ä¿å­˜

### 4. æŸ¥çœ‹äº¤æ˜“è®°å½•

1. ç‚¹å‡»é¡¶éƒ¨å¯¼èˆªçš„ **"å®æ—¶"** é¡µé¢
2. æŸ¥çœ‹æœ€è¿‘çš„äº¤æ˜“è®°å½•
3. æŸ¥çœ‹ AI å†³ç­–ç†ç”±

### 5. æŸ¥çœ‹æŒä»“

1. åœ¨å„ä¸ªæ¨¡å‹å¡ç‰‡ä¸­æŸ¥çœ‹å½“å‰æŒä»“
2. æ˜¾ç¤ºè‚¡ç¥¨ä»£ç ã€æ•°é‡ã€æœªå®ç°ç›ˆäº

## å®šæ—¶ä»»åŠ¡è¯´æ˜

ç³»ç»Ÿæœ‰ä¸‰ä¸ªå®šæ—¶ä»»åŠ¡ï¼š

1. **ç›˜å‰åˆ†æ** (é»˜è®¤æ¯å¤© 9:00 AM)
   - è·å–è‚¡ç¥¨æ± æ•°æ®
   - è°ƒç”¨ AI æ¨¡å‹åˆ†æ
   - ç”Ÿæˆå¹¶æ‰§è¡Œäº¤æ˜“

2. **ç›˜ååæ€** (é»˜è®¤æ¯å¤© 4:30 PM)
   - å¯¹ T+5 å¤©çš„å·²å¹³ä»“äº¤æ˜“è¿›è¡Œåæ€
   - ç”Ÿæˆç»éªŒæ•™è®­å­˜å…¥æ•°æ®åº“

3. **æ¯æ—¥æˆ˜æŠ¥** (é»˜è®¤æ¯å¤© 5:00 PM)
   - è‡ªåŠ¨ç”Ÿæˆå½“æ—¥æˆ˜æŠ¥
   - ç»Ÿè®¡æ‰€æœ‰æ¨¡å‹è¡¨ç°
   - è®¡ç®—æŒä»“åˆ†å¸ƒ

**å¼€å‘æ¨¡å¼**: ç³»ç»Ÿå¯åŠ¨åä¼šç«‹å³æ‰§è¡Œä¸€æ¬¡åˆ†æï¼ˆå»¶è¿Ÿ 5 ç§’ï¼‰ï¼Œæ— éœ€ç­‰å¾…å®šæ—¶è§¦å‘ã€‚

## å¸¸è§é—®é¢˜

### Q: åç«¯å¯åŠ¨å¤±è´¥ï¼Œæç¤º Prisma é”™è¯¯

A: ç¡®ä¿å·²è¿è¡Œä»¥ä¸‹å‘½ä»¤ï¼š

```bash
cd server
npm run prisma:generate
npm run prisma:migrate
```

### Q: å‰ç«¯è¿æ¥ä¸ä¸Š WebSocket

A: æ£€æŸ¥ï¼š
1. åç«¯æ˜¯å¦æ­£å¸¸è¿è¡Œ (http://localhost:3000/health åº”è¿”å› healthy)
2. æµè§ˆå™¨æ§åˆ¶å°æ˜¯å¦æœ‰é”™è¯¯
3. é˜²ç«å¢™æ˜¯å¦é˜»æ­¢äº† 3000 ç«¯å£

### Q: AI åˆ†ææ²¡æœ‰ç»“æœ

A: æ£€æŸ¥ï¼š
1. `.env` æ–‡ä»¶ä¸­çš„ API Keys æ˜¯å¦æ­£ç¡®
2. ç½‘ç»œæ˜¯å¦èƒ½è®¿é—® API æœåŠ¡å™¨
3. æŸ¥çœ‹åç«¯æ§åˆ¶å°çš„é”™è¯¯æ—¥å¿—
4. å¦‚æœæ²¡æœ‰ API Keysï¼Œç¡®è®¤ Mock æ¨¡å¼æ˜¯å¦æ­£å¸¸å·¥ä½œ

### Q: å¦‚ä½•é‡ç½®æ•°æ®åº“ï¼Ÿ

A: åˆ é™¤æ•°æ®åº“å¹¶é‡æ–°åˆå§‹åŒ–ï¼š

```bash
cd server
# Windows PowerShell
Remove-Item prisma/dev.db -ErrorAction SilentlyContinue
# æˆ– Linux/Mac
rm -f prisma/dev.db

npm run prisma:migrate
npm run prisma:seed
```

### Q: å¦‚ä½•ä¿®æ”¹å®šæ—¶ä»»åŠ¡æ—¶é—´ï¼Ÿ

A: ç¼–è¾‘ `server/.env` æ–‡ä»¶ï¼š

```env
# ç›˜å‰åˆ†æï¼šæ¯å¤© 9:00 AM (Cron æ ¼å¼: åˆ† æ—¶ * * 1-5)
PREMARKET_ANALYSIS_CRON=0 9 * * 1-5

# ç›˜ååæ€ï¼šæ¯å¤© 4:30 PM
POSTMARKET_REFLECTION_CRON=30 16 * * 1-5

# æ¯æ—¥æˆ˜æŠ¥ï¼šæ¯å¤© 5:00 PM
DAILY_REPORT_CRON=0 17 * * 1-5
```

### Q: æˆ˜æŠ¥åˆ—è¡¨ä¸ºç©ºæ€ä¹ˆåŠï¼Ÿ

A: ç”Ÿæˆæµ‹è¯•æˆ˜æŠ¥ï¼š

```bash
cd server
npm run test:report
```

### Q: å¦‚ä½•ç”Ÿæˆå¤šå¤©çš„æˆ˜æŠ¥æ•°æ®ï¼Ÿ

A: å¤šæ¬¡è¿è¡Œæµ‹è¯•æˆ˜æŠ¥è„šæœ¬ï¼Œæ¯æ¬¡ç”Ÿæˆæ–°çš„ä¸€å¤©ï¼š

```bash
cd server
npm run test:report  # Day 1
npm run test:report  # Day 2
npm run test:report  # Day 3
```

## é¡¹ç›®ç»“æ„

```
AITrading/
â”œâ”€â”€ server/                 # Node.js åç«¯
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ adapters/      # LLM å’Œæ•°æ®é€‚é…å™¨
â”‚   â”‚   â”œâ”€â”€ services/      # ä¸šåŠ¡é€»è¾‘æœåŠ¡
â”‚   â”‚   â”‚   â”œâ”€â”€ brain.service.ts
â”‚   â”‚   â”‚   â”œâ”€â”€ portfolio.service.ts
â”‚   â”‚   â”‚   â”œâ”€â”€ reflection.service.ts
â”‚   â”‚   â”‚   â”œâ”€â”€ report.service.ts      # æˆ˜æŠ¥æœåŠ¡
â”‚   â”‚   â”‚   â””â”€â”€ ...
â”‚   â”‚   â”œâ”€â”€ routes/        # API è·¯ç”±
â”‚   â”‚   â”œâ”€â”€ websocket/     # WebSocket æœåŠ¡
â”‚   â”‚   â””â”€â”€ cron/          # å®šæ—¶ä»»åŠ¡
â”‚   â”‚       â””â”€â”€ trading.cron.ts        # åŒ…å«æˆ˜æŠ¥å®šæ—¶ä»»åŠ¡
â”‚   â”œâ”€â”€ prisma/
â”‚   â”‚   â”œâ”€â”€ schema.prisma  # æ•°æ®åº“æ¨¡å‹
â”‚   â”‚   â””â”€â”€ seed.ts        # ç§å­æ•°æ®è„šæœ¬
â”‚   â”œâ”€â”€ scripts/           # è¾…åŠ©è„šæœ¬
â”‚   â”‚   â”œâ”€â”€ generate-test-report.ts   # ç”Ÿæˆæµ‹è¯•æˆ˜æŠ¥
â”‚   â”‚   â”œâ”€â”€ seed-history.ts           # ç”Ÿæˆå†å²æ•°æ®
â”‚   â”‚   â””â”€â”€ verify-data.ts            # æ•°æ®éªŒè¯
â”‚   â””â”€â”€ .env              # ç¯å¢ƒå˜é‡
â”‚
â”œâ”€â”€ client/                # Vue 3 å‰ç«¯
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ views/        # é¡µé¢
â”‚   â”‚   â”‚   â”œâ”€â”€ Home.vue
â”‚   â”‚   â”‚   â”œâ”€â”€ Reports.vue           # æˆ˜æŠ¥åˆ—è¡¨
â”‚   â”‚   â”‚   â”œâ”€â”€ ReportDetail.vue      # æˆ˜æŠ¥è¯¦æƒ…
â”‚   â”‚   â”‚   â””â”€â”€ ...
â”‚   â”‚   â”œâ”€â”€ components/   # ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ stores/       # çŠ¶æ€ç®¡ç†
â”‚   â”‚   â””â”€â”€ composables/  # ç»„åˆå¼å‡½æ•°
â”‚   â””â”€â”€ vite.config.ts
â”‚
â”œâ”€â”€ æµ‹è¯•æ•°æ®è„šæœ¬è¯´æ˜.md    # æµ‹è¯•è„šæœ¬ä½¿ç”¨æ–‡æ¡£
â”œâ”€â”€ æˆ˜æŠ¥åŠŸèƒ½è¯´æ˜.md         # æˆ˜æŠ¥åŠŸèƒ½æ–‡æ¡£
â”œâ”€â”€ æ•°æ®åº“è®¾ç½®è¯´æ˜.md       # æ•°æ®åº“é…ç½®æ–‡æ¡£
â””â”€â”€ é¡¹ç›®æ€»ç»“.md             # é¡¹ç›®æ¶æ„æ€»ç»“
```

## æ ¸å¿ƒ npm è„šæœ¬

### åç«¯è„šæœ¬

```bash
# å¼€å‘æ¨¡å¼è¿è¡Œ
npm run dev

# ç¼–è¯‘ TypeScript
npm run build

# ç”Ÿäº§æ¨¡å¼è¿è¡Œ
npm run start

# Prisma ç›¸å…³
npm run prisma:generate   # ç”Ÿæˆ Prisma Client
npm run prisma:migrate    # è¿è¡Œæ•°æ®åº“è¿ç§»
npm run prisma:studio     # æ‰“å¼€ Prisma Studio
npm run prisma:seed       # å¡«å……ç§å­æ•°æ®

# æµ‹è¯•æ•°æ®è„šæœ¬
npm run test:report       # ç”Ÿæˆæµ‹è¯•æˆ˜æŠ¥
npm run seed:history      # ç”Ÿæˆå†å²å¿«ç…§
npm run verify            # éªŒè¯æ•°æ®å®Œæ•´æ€§
```

### å‰ç«¯è„šæœ¬

```bash
# å¼€å‘æ¨¡å¼è¿è¡Œ
npm run dev

# æ„å»ºç”Ÿäº§ç‰ˆæœ¬
npm run build

# é¢„è§ˆç”Ÿäº§ç‰ˆæœ¬
npm run preview
```

## ä¸‹ä¸€æ­¥

- ğŸ“– é˜…è¯» [æˆ˜æŠ¥åŠŸèƒ½è¯´æ˜.md](./æˆ˜æŠ¥åŠŸèƒ½è¯´æ˜.md) äº†è§£æˆ˜æŠ¥ç³»ç»Ÿ
- ğŸ“Š é˜…è¯» [æµ‹è¯•æ•°æ®è„šæœ¬è¯´æ˜.md](./æµ‹è¯•æ•°æ®è„šæœ¬è¯´æ˜.md) äº†è§£å¦‚ä½•ç”Ÿæˆæµ‹è¯•æ•°æ®
- ğŸ—„ï¸ é˜…è¯» [æ•°æ®åº“è®¾ç½®è¯´æ˜.md](./æ•°æ®åº“è®¾ç½®è¯´æ˜.md) äº†è§£æ•°æ®åº“ç»“æ„
- ğŸ—ï¸ é˜…è¯» [é¡¹ç›®æ€»ç»“.md](./é¡¹ç›®æ€»ç»“.md) äº†è§£é¡¹ç›®æ¶æ„

## éœ€è¦å¸®åŠ©ï¼Ÿ

å¦‚æœé‡åˆ°é—®é¢˜ï¼Œè¯·æ£€æŸ¥ï¼š
1. Node.js ç‰ˆæœ¬æ˜¯å¦ >= 18
2. æ‰€æœ‰ä¾èµ–æ˜¯å¦å®‰è£…å®Œæˆ
3. åç«¯å’Œå‰ç«¯æ˜¯å¦éƒ½åœ¨è¿è¡Œ
4. æµè§ˆå™¨æ§åˆ¶å°å’Œç»ˆç«¯æ˜¯å¦æœ‰é”™è¯¯ä¿¡æ¯
5. æ•°æ®åº“æ˜¯å¦æ­£ç¡®åˆå§‹åŒ–

## å¼€å‘å·¥å…·æ¨è

- **Prisma Studio**: å¯è§†åŒ–æ•°æ®åº“ç®¡ç†å·¥å…·
  ```bash
  cd server
  npm run prisma:studio
  # è®¿é—® http://localhost:5555
  ```

- **Vue DevTools**: æµè§ˆå™¨æ‰©å±•ï¼Œç”¨äºè°ƒè¯• Vue åº”ç”¨

- **REST Client**: VS Code æ‰©å±•ï¼Œç”¨äºæµ‹è¯• API æ¥å£

- **Database Client**: å¦‚ TablePlusã€DBeaver ç­‰ï¼Œç”¨äºæŸ¥çœ‹ SQLite æ•°æ®åº“

